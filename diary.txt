########################################################################
#DATE       #START      #STOP       #DESCRIPTION                       #
########################################################################

5/7/19      16:00       19:00       Official start of coding
                                    Discovering reference implementation behaviour
                                    Looking for error messages, exit statuses and
                                    where error messages are sent to (stderr) 
                                    
            21:00       00:00       Finished up to legit-log
                                    Need to test code


6/7/19      13:00       18:00       Making init, add, commit, log work together

            10:30       00:00       Finishing up legit-show
            
7/7/19      13:30       15:30       Looking for all the types of input errors 
                                    and handling them based off reference
                                    Finished subset 0, need to fix errors

            23:00       1:00        Completed subset 0 - fixed errors
                                    Changed implementation of legit-commit
                                    to become more robust

8/7/19      16:30        18:30      Continue with subset 1
                                    Trying to replicate an error created by the reference

            21:00        00:00      Finished '-a' option in subset1
                                    Started on rm



#######################################################################

Reference implementation

----------------------- Subset 0 ---------------------------------------

legit-init:

    - If .legit directory already exists are you use legit-init, error message = "legit-init: error: .legit already exists"
      exit status = 1
      #Note: i used $0 to do "legit-init:" --> change this to hardcode if it doesnt pass autotest
    - If you specify a command line argument legit-init hello, error message = "usage: legit-init"
      (this takes precedence over 1st error)
      exit status = 1
    - 2041 legit-init writes error messages to stderr NOT stdout
      QUESTION: Whats the difference between >&2 and 1>&2

legit-add:
    - ALWAYS check for each command whether .legit exists otherwise => this error gets checked first
      print error msg = "legit-add: error: no .legit directory containing legit repository exists"
    - Types of add errors for files
        - usage: legit-add <filenames>
        - legit-add: error: can not open '...'
        - legit-add: error: '...' is not a regular file
        - legit-add: error: invalid filename '...'
            - if given multiple file names to add and one of the filenames are invalid, none of the files are added
            
legit-commit -m "message":
    - Types of errors (in order of precedence)
        - legit-commit: error: commit message can not contain a newline
        
        - Sample inputs (2041 legit-commit | 2041 legit-commit -m | 2041 legit-commit "hello" | 2041 legit-commit -v "hello")
          Error msg = usage: legit-commit [-a] -m commit-message        

        
        - When no files have been added to staging = "nothing to commit"
    - 2041 legit-commit -m "hello"there produces "nothing to commit"
    
    
If you change the contents of file e.g. echo "new line" > a.txt
then change it back to original contents of the file e.g. echo "a" > a.txt, nothing happens --> no need to commit



legit-log:
    - Types of errors
        - legit-log: error: your repository does not have any commits yet
        - When given more than one cmd args
          usage: legit-log
        - 

legit-show:
    - Errors:
        - legit-show: error: your repository does not have any commits yet
        - If cmd args != 1 
          usage: legit-show <commit>:<filename>
        - if number < 0
          usage: legit-show <commit>:<filename>
        - When ':' is not used
          legit-show: error: invalid object '...'
        - if commit number exceeds total commits or commit number is a string
          legit-show: error: unknown commit '...'
        - When ':' is passed in only
          legit-show: error: invalid filename ''
        - If file does not exist in the commit number (note: wrong commit number takes precedence)
          legit-show: error: '...' not found in commit "number"
          
          OR file does not exist in index by specifying ':a.txt'
          legit-show: error: '...' not found in index


   
   - If given no commit number, print contents in the file that is currently in staging area


----------------------- Subset 1 ---------------------------------------

legit-commit -a -m message:
    - Issue found: If a file had been added and committed, then removed
      from the current directory, the legit-status will changed to "removed"
      for the file. The next commit will not include the deleted file
      and it will remove the file from the index ==> ONLY WHEN USING -a BECAUSE ADDING THE DELETED FILE WILL REMOVE IT FROM THE INDEX
      
      - In legit-add, if the file was passed as an arg and it doesnt exist in working directory
        but exist in index --> I remove it
      
      
      
######
legit-add e.txt
rm e.txt
legit-status will show its added to index
commit
legitshow will still work
legit-status will now say 'file deleted'
but can't legit-commit --> will say nothing to commit
make further changes to other files, add, commit and e.txt is still being committed can be seen by legit-show

now legit-add e.txt again
legit-status will say 'deleted'
legit commit
legit-status no longer displays e.txt

Hence ==> if file removed from working directory --> file does not get removed from index until legit-added again

CHECK WHAT HAPPENS IF IT HAS BEEN PREVIOUSLY COMMITTED BEFORE REMOVING
Answer is in Atlassian tutorial on why use git rm instead of rm



legit-rm [--force] [--cached] filenames:
    - Errors:
        - usage: legit-rm [--force] [--cached] <filenames>  occurs for the following inputs
            - legit-rm
            - legit-rm --force --cached (anything starting with a hyphen)
        - If its a single '-'
          legit-rm: error: invalid filename '-'
    
        - For files that do not exist in index
          legit-rm: error: '...' is not in the legit repository

        - For files that have been staged but not committed or it differs from last commit, using legit-rm
          legit-rm: error: '...' has changes staged in the index
            - --cached will delete the file in the index but keep in the working directory
            
        - For no args and --cached
          legit-rm: error: '...' in index is different to both working file and repository
          
        - Using legit-rm, made changes to file since last commit but haven't added to index
          legit-rm: error: 'e.txt' in repository is different to working file
          
        - Also check for valid file names


#####
ASK QUESTION ABOUT CALLING ANOTHER SHELL SCRIPT
WITH ./ or just the name of program
